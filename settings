database password
)999vy4AGq*B

create table
  public.word (
    id bigint generated by default as identity,
    userid text null default ''::text,
    word text null default ''::text,
    count int null default 0::int,
    created_at timestamp with time zone not null default now(),
    updated_at timestamp with time zone null default null,
    deleted_at timestamp with time zone null default null,
    meaning text null default ''::text,
    constraint word_pkey primary key (id)
  ) tablespace pg_default;

create index idx_word_userid on word (userid);

create VIEW view_word AS
SELECT a.ID, a.word, a.userid, a.created_at, a.deleted_at, a.meaning
FROM word a
INNER JOIN (
SELECT word, userid, max(created_at) as created_at
FROM word
GROUP BY word, userid
) b
ON a.word = b.word AND a.userid = b.userid AND a.created_at = b.created_at;

create VIEW view_word_statistics AS
SELECT word, count(distinct userid) as user_count, max(created_at) as latest_date
FROM word
GROUP BY word
ORDER by 2 desc, 3 desc

